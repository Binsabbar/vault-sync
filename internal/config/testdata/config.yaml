
id: test

log_level: info

concurrency: 5

sync_rule:
  interval: 60s
  kv_mounts:
    - secret
    - secret2
  paths_to_replicate:
    - secret/data/test
    - secret/data/test2
  paths_to_ignore:
    - secret/data/test3
    - secret/data/test4


postgres:
  address: localhost
  port: 5432
  username: postgres
  password: postgres
  db_name: vault_sync
  ssl_mode: disable
  ssl_root_cert_file: /path/to/root.crt
  max_connections: 10

vault:
  main_cluster:
    name: main-cluster
    address: http://vault:8200
    tls_skip_verify: true
    tls_cert_file: /path/to/cert.pem
    app_role_id: my_app_role
    app_role_secret: my_app_secret
    app_role_mount: approle
    
  replica_clusters:
    - name: replica-2
      address: http://vault-replica-2:8200
      tls_skip_verify: true
      tls_cert_file: /path/to/cert-2.pem
      app_role_id: my_app_role_replica_2
      app_role_secret: my_app_secret_replica_2
      app_role_mount: approle2
    - name: replica-3
      address: http://vault-replica-3:8200
      tls_skip_verify: true
      tls_cert_file: /path/to/cert-3.pem
      app_role_id: my_app_role_replica_3
      app_role_secret: my_app_secret_replica_3
      app_role_mount: approle3
